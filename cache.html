<!DOCTYPE html><html><head><title>Connect - High quality middleware for node.js</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><link rel="stylesheet" href="style.css"><script src="jquery.js"></script><script src="docs.js"></script></head><body><div id="content"><h1>Connect</h1><div id="module.exports" class="comment"><h2></h2><div class="description"><p>Expose <code>Cache</code>.</p></div><h3>Source</h3><pre><code>module.exports = Cache;</code></pre></div><div id="Cache" class="comment"><h2>Cache()</h2><div class="description"><p>LRU cache store.</p></div><ul class="tags"><li><em>Number</em> limit </li></ul><h3>Source</h3><pre><code>function Cache(limit) {
  this.store = {};
  this.keys = [];
  this.limit = limit;
}</code></pre></div><div id="Cache.prototype.touch" class="comment"><h2>Cache#touch()</h2><div class="description"><p>Touch <code>key</code>, promoting the object.</p></div><ul class="tags"><li><em>String</em> key </li><li><em>Number</em> i </li></ul><h3>Source</h3><pre><code>Cache.prototype.touch = function(key, i){
  this.keys.splice(i,1);
  this.keys.push(key);
};</code></pre></div><div id="Cache.prototype.remove" class="comment"><h2>Cache#remove()</h2><div class="description"><p>Remove <code>key</code>.</p></div><ul class="tags"><li><em>String</em> key </li></ul><h3>Source</h3><pre><code>Cache.prototype.remove = function(key){
  delete this.store[key];
};</code></pre></div><div id="Cache.prototype.get" class="comment"><h2>Cache#get()</h2><div class="description"><p>Get the object stored for <code>key</code>.</p></div><ul class="tags"><li><em>String</em> key </li><li>returns <em>Array</em> </li></ul><h3>Source</h3><pre><code>Cache.prototype.get = function(key){
  return this.store[key];
};</code></pre></div><div id="Cache.prototype.add" class="comment"><h2>Cache#add()</h2><div class="description"><p>Add a cache <code>key</code>.</p></div><ul class="tags"><li><em>String</em> key </li><li>returns <em>Array</em> </li></ul><h3>Source</h3><pre><code>Cache.prototype.add = function(key){
  // initialize store
  var len = this.keys.push(key);

  // limit reached, invalidate LRU
  if (len > this.limit) this.remove(this.keys.shift());

  var arr = this.store[key] = [];
  arr.createdAt = new Date;
  return arr;
};</code></pre></div></div><ul id="menu"><li><a href="#module.exports"></a></li><li><a href="#Cache">Cache()</a></li><li><a href="#Cache.prototype.touch">Cache#touch()</a></li><li><a href="#Cache.prototype.remove">Cache#remove()</a></li><li><a href="#Cache.prototype.get">Cache#get()</a></li><li><a href="#Cache.prototype.add">Cache#add()</a></li></ul></body></html>